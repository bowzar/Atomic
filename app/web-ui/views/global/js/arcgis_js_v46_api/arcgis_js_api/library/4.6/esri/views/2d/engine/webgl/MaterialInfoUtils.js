// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.6/esri/copyright.txt for details.
//>>built
define(["require","exports","./MaterialKeyInfo","./enums","./MaterialInfo"],function(n,f,k,e,l){function m(a){var b=[];b[0]=a.sdf?!0:!1;b[1]=a.vvSizeMinMaxValue?!0:!1;b[2]=a.vvSizeScaleStops?!0:!1;b[3]=a.vvSizeFieldStops?!0:!1;b[4]=a.vvSizeUnitValue?!0:!1;b[5]=a.vvColor?!0:!1;b[6]=a.vvRotation?!0:!1;b[7]=a.vvOpacity?!0:!1;b[8]=a.visibility?!0:!1;b[9]=a.pattern?!0:!1;b[10]=a.heatmap?!0:!1;return b.reduce(function(a,b,e){b&&(a|=1<<e+2);return a},0)}function h(a){if(a.geometryType===e.WGLGeometryType.UNKNOWN)return-1;
var b=m(a)<<2;return a.geometryType+b}Object.defineProperty(f,"__esModule",{value:!0});f.createTextMaterialInfo=function(a,b){var f=l.pool.acquire(),c=k.pool.acquire();c.geometryType=e.WGLGeometryType.TEXT;c.sdf=!0;c.pattern=!1;c.visibility=!0;c.heatmap=!1;f.texBindingInfo.push({unit:2,pageId:a.page,semantic:"u_texture"});0===b?c.vvOpacity=c.vvSizeMinMaxValue=c.vvSizeScaleStops=c.vvSizeFieldStops=c.vvSizeUnitValue=c.vvColor=c.vvRotation=!1:(c.vvOpacity=0!==(b&e.WGLVVFlag.OPACITY),c.vvSizeMinMaxValue=
0!==(b&e.WGLVVFlag.SIZE_MINMAX_VALUE),c.vvSizeScaleStops=0!==(b&e.WGLVVFlag.SIZE_SCALE_STOPS),c.vvSizeFieldStops=0!==(b&e.WGLVVFlag.SIZE_FIELD_STOPS),c.vvSizeUnitValue=0!==(b&e.WGLVVFlag.SIZE_UNIT_VALUE),c.vvColor=0!==(b&e.WGLVVFlag.COLOR),c.vvRotation=0!==(b&e.WGLVVFlag.ROTATION));f.materialKey=h(c);f.materialKeyInfo=c;return f};f.createMaterialInfo=function(a,b,f,c){var g=l.pool.acquire(),d=k.pool.acquire();d.geometryType=f;(b=b.spriteMosaicItem)?(d.sdf=b.sdf,d.pattern=!0,g.texBindingInfo.push({unit:1,
pageId:b.page,semantic:"u_texture"})):(d.sdf=!1,d.pattern=!1);0===c?d.vvOpacity=d.vvSizeMinMaxValue=d.vvSizeScaleStops=d.vvSizeFieldStops=d.vvSizeUnitValue=d.vvColor=d.vvRotation=!1:(d.vvOpacity=0!==(c&e.WGLVVFlag.OPACITY),d.vvSizeMinMaxValue=0!==(c&e.WGLVVFlag.SIZE_MINMAX_VALUE),d.vvSizeScaleStops=0!==(c&e.WGLVVFlag.SIZE_SCALE_STOPS),d.vvSizeFieldStops=0!==(c&e.WGLVVFlag.SIZE_FIELD_STOPS),d.vvSizeUnitValue=0!==(c&e.WGLVVFlag.SIZE_UNIT_VALUE),d.vvColor=0!==(c&e.WGLVVFlag.COLOR),d.vvRotation=0!==(c&
e.WGLVVFlag.ROTATION));d.visibility=!1;d.heatmap=null!=a.heatmapInfo;g.materialKey=h(d);g.materialKeyInfo=d;return g};f.getMaterialKey=h;f.updateMaterialVariations=function(a,b){a.geometryType=b&3;b>>=2;a.sdf=0!==(b&4);a.vvSizeMinMaxValue=0!==(b&8);a.vvSizeScaleStops=0!==(b&16);a.vvSizeFieldStops=0!==(b&32);a.vvSizeUnitValue=0!==(b&64);a.vvColor=0!==(b&128);a.vvRotation=0!==(b&256);a.vvOpacity=0!==(b&512);a.visibility=0!==(b&1024);a.pattern=0!==(b&2048);a.heatmap=0!==(b&4096);return a};f.getMaterialVariations=
function(a){var b=a&3;a>>=2;return{geometryType:b,variations:[0!==(a&1),0!==(a&2),0!==(a&4),0!==(a&8),0!==(a&16),0!==(a&32),0!==(a&64),0!==(a&128),0!==(a&256),0!==(a&512),0!==(a&1024),0!==(a&2048),0!==(a&4096)]}}});