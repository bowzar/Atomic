//>>built
define(["dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/_base/sniff","./_base"],function(f,g,h,k){return h("dojox.geo.charting._Marker",null,{_needTooltipRefresh:null,_map:null,constructor:function(a,b){this._map=b;this.features=b.mapObj.features;this.markerData=a;_needTooltipRefresh=!1},show:function(a,b){this.currentFeature=this.features[a];this._map.showTooltips&&this.currentFeature&&(this.markerText=this.currentFeature.markerText||this.markerData[a]||a,dojox.geo.charting.showTooltip(this.markerText,
this.currentFeature.shape,["before"]));this._needTooltipRefresh=!1},hide:function(){this._map.showTooltips&&this.currentFeature&&dojox.geo.charting.hideTooltip(this.currentFeature.shape);this._needTooltipRefresh=!1},_getGroupBoundingBox:function(a){a=a.children;var b=a[0].getBoundingBox();this._arround=f.clone(b);g.forEach(a,function(a){a=a.getBoundingBox();this._arround.x=Math.min(this._arround.x,a.x);this._arround.y=Math.min(this._arround.y,a.y)},this)},_toWindowCoords:function(a,b,c){var d=(a.x-
this.topLeft[0])*this.scale,e=(a.y-this.topLeft[1])*this.scale;k("chrome")?(a.x=c.x+d,a.y=c.y+e):(a.x=b.x+d,a.y=b.y+e);a.width=this.currentFeature._bbox[2]*this.scale;a.height=this.currentFeature._bbox[3]*this.scale;a.x+=a.width/6;a.y+=a.height/4}})});