// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.6/esri/copyright.txt for details.
//>>built
define("require exports ../../../core/tsSupport/extendsHelper ../../../core/tsSupport/decorateHelper ../../../core/accessorSupport/decorators ../../../core/Error ./LayerView3D ./support/LayerViewUpdatingPercentage ../terrain/terrainUtils".split(" "),function(n,p,h,e,c,f,k,l,m){return function(g){function a(){var b=null!==g&&g.apply(this,arguments)||this;b.minDataLevel=0;b.maxDataLevel=Infinity;b._numUpdating=0;b._maxNumUpdating=0;b._isUpdating=!1;return b}h(a,g);Object.defineProperty(a.prototype,
"formatIsTransparent",{get:function(){return!0},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"isTransparent",{get:function(){return 1>this.fullOpacity||this.formatIsTransparent},enumerable:!0,configurable:!0});a.prototype.getTileUrl=function(b,a,d){return this.layer.getTileUrl(b,a,d)};a.prototype._evaluateUpdatingState=function(b){this._isUpdating=b;this.notifyChange("updating")};a.prototype.isUpdating=function(){return this._isUpdating};a.prototype._getTileInfoSupportError=function(b,
a){if(b=m.checkIfTileInfoSupportedForView(b,a,this.view.spatialReference,this.view.basemapTerrain.manifold)){a={layer:this.layer,error:b};var d=void 0;switch(b.name){case "tilingscheme:local-gcs-not-supported":d=new f("layerview:local-gcs-not-supported","Geographic coordinate systems are not supported in local scenes",a);break;case "tilingscheme:spatial-reference-mismatch":case "tilingscheme:global-unsupported-spatial-reference":d=new f("layerview:spatial-reference-incompatible","The spatial reference of this layer does not meet the requirements of the view",
a);break;default:d=new f("layerview:tiling-scheme-unsupported","The tiling scheme of this layer is not supported by SceneView",a)}return d}return null};a.prototype._getTileInfoCompatibilityError=function(a,c){return c.compatibleWith(a)?null:new f("layerview:tiling-scheme-incompatible","The tiling scheme of this layer is incompatible with the tiling scheme of the surface")};a.prototype._updateMinMaxDataLevel=function(){var a=Infinity,c=0;this.tileInfo.lods.forEach(function(b){a=Math.min(b.level,a);
c=Math.max(b.level,c)});d=[a,c];this.minDataLevel=d[0];this.maxDataLevel=d[1];var d};e([c.property({readOnly:!0})],a.prototype,"formatIsTransparent",null);e([c.property()],a.prototype,"fullExtent",void 0);e([c.property({readOnly:!0,dependsOn:["fullOpacity","formatIsTransparent"]})],a.prototype,"isTransparent",null);e([c.property()],a.prototype,"layer",void 0);e([c.property()],a.prototype,"minDataLevel",void 0);e([c.property()],a.prototype,"maxDataLevel",void 0);e([c.property()],a.prototype,"tileInfo",
void 0);return a=e([c.subclass("esri.views.3d.layers.TiledLayerView3D")],a)}(c.declared(k,l))});