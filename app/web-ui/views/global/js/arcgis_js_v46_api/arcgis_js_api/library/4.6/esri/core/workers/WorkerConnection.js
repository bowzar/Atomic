// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.6/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/workers/WorkerProxy":function(){define(["require","exports","dojo/Deferred","../Error"],function(k,l,f,g){return function(){function b(a,c,b){this.parentModule=a;this.worker=c;this.connection=b;this.msgCount=0;this.outgoingJobs=new Map;this.incomingJobs=new Map}b.prototype.invoke=function(a,b,m,e){var d=this,c=++this.msgCount,h=new f(function(a){d.worker.postMessage({type:"\x3ccancel\x3e",id:c,connection:e,data:{reason:a}});if(d.outgoingJobs.has(c))d.outgoingJobs["delete"](c)});
this.outgoingJobs.set(c,h);this.worker.postMessage({type:a,id:c,connection:e,data:b},m);return h.promise};b.prototype.message=function(a){var c=this;if(a&&a.data){var b=a.data.type;if(b){var e=a.data,d=a.data.id,f=a.data.connection;if("\x3cresponse\x3e"===b&&d){if(a=this.outgoingJobs.get(d))this.outgoingJobs["delete"](d),e.error?a.reject(g.fromJSON(JSON.parse(e.error))):a.resolve(e.data)}else"\x3ccancel\x3e"===b&&d?(a=this.incomingJobs.get(d))&&a.cancel(e.data.reason||"cancel"):(a=this.parentModule[b],
"function"===typeof a&&(e=a.call(this.parentModule,e.data,this.connection),this.incomingJobs.set(d,e),e.then(function(a){c.worker.postMessage({type:"\x3cresponse\x3e",id:d,connection:f,data:a&&null!=a.data?a.data:a},a&&a.buffers||[])}).otherwise(function(a){a||(a={message:"Error encountered at method "+b});c.worker.postMessage({type:"\x3cresponse\x3e",id:d,connection:f,data:null,error:a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details,stack:a.stack})})}).always(function(){c.incomingJobs["delete"](d)})))}}};
return b}()})},"*noref":1}});define(["require","exports","./WorkerProxy"],function(k,l,f){return function(){function g(b,a,c){this.id=c;this._target="function"===typeof b?new b(this):b;this.proxy=new f(this._target,a,this)}g.prototype.invoke=function(b,a,c){return this.proxy.invoke(b,a,c,this.id)};return g}()});