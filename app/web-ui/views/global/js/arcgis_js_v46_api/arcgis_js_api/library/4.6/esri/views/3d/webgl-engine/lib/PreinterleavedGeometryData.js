// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.6/esri/copyright.txt for details.
//>>built
define(["require","exports","../../../webgl/Util","./ComponentUtils","./geometryDataUtils"],function(r,t,h,n,k){function p(a){switch(a){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw Error("Unhandled data type: "+a);}return function(){function a(d,c,e){void 0===e&&(e=a.DefaultOffsets);this.preinterleaved=!0;this.primitiveType="triangle";for(var f=
h.getStride(c)/4,f=k.generateDefaultIndexArray(d.length/f),l={},g=0;g<c.length;g++){var b=c[g],q=new (p(b.type))(d.buffer),m=h.getBytesPerElement(b.type);l[b.name]={data:q,size:b.count,offsetIdx:b.offset/m,strideIdx:b.stride/m}}this._id=k.getNewId();this._vertexData=d;this._vertexAttributes=l;this._layout=c;this._indexData=f;this._componentOffsets=n.createOffsets(e)}Object.defineProperty(a.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,
"vertexData",{get:function(){return this._vertexData},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"indexData",{get:function(){return this._indexData},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"componentOffsets",{get:function(){return this._componentOffsets},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"indexCount",{get:function(){return this._indexData.length},
enumerable:!0,configurable:!0});a.prototype.getId=function(){return this.id};a.prototype.toRenderData=function(){return{id:this._id.toString(),preinterleaved:!0,indexCount:this.indexCount,vertexData:this._vertexData,layout:this._layout}};a.prototype.getIndices=function(a){return this._indexData};a.prototype.getAttribute=function(a){return this._vertexAttributes[a]};a.prototype.estimateGpuMemoryUsage=function(){return this._vertexData.byteLength};a.DefaultOffsets=new Uint32Array(0);return a}()});