// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.6/esri/copyright.txt for details.
//>>built
define(["require","exports","../Logger"],function(z,c,x){function n(a,b){return b.isInstanceOf?b.isInstanceOf(a):b instanceof a}function p(a){return null==a?a:new Date(a)}function q(a){return null==a?a:!!a}function r(a){return null==a?a:a.toString()}function t(a){return null==a?a:parseFloat(a)}function m(a){return a&&a.constructor&&void 0!==a.constructor._meta}function k(a,b){return null!=b&&a&&!n(a,b)}function u(a,b){k(a,b)&&(m(b)?v.error("Accessor#set","Assigning an instance of '"+(b.declaredClass||
"unknown")+"' which is not a subclass of '"+(a&&a.prototype&&a.prototype.declaredClass||"unknown")+"'"):b=new a(b));return b}function y(a){switch(a){case Number:return t;case Boolean:return q;case String:return r;case Date:return p;default:return u.bind(null,a)}}function g(a,b){var d=y(a);return 1===arguments.length?d:d(b)}function f(a,b){return 1===arguments.length?f.bind(null,a):b?Array.isArray(b)?b.map(a):[a(b)]:b}function w(a,b,d){return 0!==b&&Array.isArray(d)?d.map(function(d){return w(a,b-
1,d)}):a(d)}function h(a,b,d){if(2===arguments.length)return h.bind(null,a,b);if(!d)return d;d=w(a,b,d);for(var c=b,e=d;0<c&&Array.isArray(e);)c--,e=e[0];if(void 0!==e)for(e=0;e<c;e++)d=[d];return d}Object.defineProperty(c,"__esModule",{value:!0});var v=x.getLogger("esri.core.Accessor");c.isInstanceOf=n;c.ensureDate=p;c.ensureBoolean=q;c.ensureString=r;c.ensureNumber=t;c.isClassedType=m;c.requiresType=k;c.ensureClass=u;c.ensureType=g;c.ensureArrayTyped=f;c.ensureArray=function(a,b){return 1===arguments.length?
f(g.bind(null,a)):f(g.bind(null,a),b)};c.ensureNArrayTyped=h;c.ensureNArray=function(a,b,d){return 2===arguments.length?h(g.bind(null,a),b):h(g.bind(null,a),b,d)};c.ensureOneOfType=function(a){var b={},d=[],c=[],e;for(e in a.typeMap){var f=a.typeMap[e];b[e]=g(f);d.push(f&&f.prototype&&f.prototype.declaredClass||"unknown");c.push(e)}var h="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(e){if(a.base&&!k(a.base,e))return e;var f=h(e),g=b[f];if(!g)return v.error("Accessor#set",
"Invalid property value, value needs to be one of "+("'"+d.join("', '")+"'")+", or a plain object that can auto-cast (having .type \x3d "+("'"+c.join("', '")+"'")+")"),null;if(!k(a.typeMap[f],e))return e;if("string"!==typeof a.key||m(e))return g(e);var f={},l;for(l in e)l!==a.key&&(f[l]=e[l]);return g(f)}};c.default=g});