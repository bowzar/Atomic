// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.6/esri/copyright.txt for details.
//>>built
define("require exports ../core/tsSupport/declareExtendsHelper ../core/tsSupport/decorateHelper ../request ../core/Error ../geometry/Extent ../geometry/SpatialReference ./Layer ./mixins/ScaleRangeLayer ./support/TileInfo ../core/accessorSupport/decorators ./mixins/RefreshableLayer dojo/_base/lang".split(" "),function(v,w,m,e,k,n,p,g,q,r,l,b,t,u){var f={id:"0/0/0",level:0,row:0,col:0,extent:null};return function(h){function a(){var c=null!==h&&h.apply(this,arguments)||this;c.tileInfo=l.create({spatialReference:g.WebMercator,
size:256});c.type="base-tile";c.fullExtent=new p(-2.0037508342787E7,-2.003750834278E7,2.003750834278E7,2.0037508342787E7,g.WebMercator);c.spatialReference=g.WebMercator;return c}m(a,h);a.prototype.getTileBounds=function(c,a,b,d){d=d||[0,0,0,0];f.level=c;f.row=a;f.col=b;f.extent=d;this.tileInfo.updateTileInfo(f);f.extent=null;return d};a.prototype.getTileUrl=function(c,a,b){throw new n("basetilelayer:gettileurl-not-implemented","getTileUrl() is not implemented");};a.prototype.fetchTile=function(a,
b,e,d){a=this.getTileUrl(a,b,e);var c={responseType:"image"};d&&d.timestamp&&(c.query={_ts:d.timestamp});return"string"===typeof a?k(a,u.mixin({allowImageDataAccess:d&&d.allowImageDataAccess||!1},c)).then(function(a){return a.data}):a.then(function(a){return k(a,c)}).then(function(a){return a.data})};e([b.shared({"2d":"../views/2d/layers/TiledLayerView2D","3d":"../views/3d/layers/TileLayerView3D"})],a.prototype,"viewModulePaths",void 0);e([b.property({type:l})],a.prototype,"tileInfo",void 0);e([b.property({readOnly:!0,
value:"base-tile"})],a.prototype,"type",void 0);e([b.property()],a.prototype,"fullExtent",void 0);e([b.property()],a.prototype,"spatialReference",void 0);return a=e([b.subclass("esri.layers.BaseTileLayer")],a)}(b.declared(q,t,r))});